barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = periods*10
}
periods = 100
for(i in 1:3){
par(mfrow=c(2,2),oma=c(5,0.5,0.5,2))
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = periods*10
}
periods = 100
for(i in 1:3){
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5))
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = periods*10
}
periods = 100
for(i in 1:3){
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = periods*10
}
periods = 100
for(i in 1:3){
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = periods*10
}
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = 100
for(i in 1:3){
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
if(periods == 10000){
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
}else break
periods = periods*10
}
periods = 100
for(i in 1:3){
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
if(i == 3){
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
break
}
periods = periods*10
}
periods = 10
for(i in 1:3){
periods = periods*10
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
}
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6)
}
barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = 10
for(i in 1:3){
periods = periods*10
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6,replace = T)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
}
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6,replace = T)
}
barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = 10
for(i in 1:3){
periods = periods*10
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6,replace = T)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
}
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6,replace = T)
}
barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = 10
for(i in 1:3){
periods = periods*10
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(49,6,replace = T)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
}
# par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
# for(time in 1:4){
#   nums = rep(0,6*periods)
#   for(p in 1:periods){
#     nums[(p*6-5):(p*6)] = sample(49,6,replace = T)
#   }
#   barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
# }
# title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
periods = 10
for(i in 1:3){
periods = periods*10
par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
for(time in 1:4){
nums = rep(0,6*periods)
for(p in 1:periods){
nums[(p*6-5):(p*6)] = sample(1:49,6)
}
barplot(height=table(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
}
title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
}
# par(mfrow=c(2,2),oma=c(5,0.5,4,0.5),mar=c(5,4,4,2)+0.1)
# for(time in 1:4){
#   nums = rep(0,6*periods)
#   for(p in 1:periods){
#     nums[(p*6-5):(p*6)] = sample(49,6,replace = T)
#   }
#   barplot(height=table(nums)/length(nums),col="red",main=paste("累計搖獎",periods,"期 第",time,"遍"),font.main=2,cex.main=2)
# }
# title(paste("用電腦公平搖獎",periods,"期，重複 4 遍"),outer=T,font.main=1,cex.main=2)
?title
stackloss
pairs(stackloss)
?pairs
1/30
check.v2.f = function(vec){
out = F
u.v = unique(vec)
if(length(u.v) < length(u.v)) out = T
out = T
}
N = 20
sim = 10000
set.seed(10)
result = rep(0,10000)
for(s in 1:sim){
people.birth.v = sample(365,N,replace = T)
result[s] = check.v2.f(people.birth.v)
}
p = sum(result)/sim
p
N = 20
sim = 10000
set.seed(10)
result = rep(0,10000)
for(s in 1:sim){
people.birth.v = sample(365,N,replace = T)
result[s] = check.v2.f(people.birth.v)
}
p = sum(result)/sim
p
N = 23
sim = 10000
set.seed(10)
result = rep(0,sim)
for(s in 1:sim){
people.birth.v = sample(365,N,replace = T)
result[s] = check.v2.f(people.birth.v)
}
p = sum(result)/sim
p
N = 23
sim = 10000
set.seed(10)
result = rep(0,sim)
for(s in 1:sim){
people.birth.v = sample(365,N,replace = T)
result[s] = check.v2.f(people.birth.v)
}
p = sum(result)/sim
p
least.two.same.birth.prob.v3 = function(n=365,N,sim = 10000){
set.seed(10)
result = rep(0,sim)
for(s in 1:sim){
people.birth.v = sample(n,N,replace = T)
result[s] = check.v3.f(people.birth.v)
}
return(sum(result)/sim)
}
least.two.same.birth.prob.v3(23)
check.v3.f = function(vec){
length(unique(vec))<length(vec)
}
least.two.same.birth.prob.v3(23)
check.v2.f(rep(1:4,4))
check.v2.f(rep(1:4,4))
check.v3.f(rep(1:4,4))
check.v3.f(1:4
)
check.v2.f(rep(1:4,4))
check.v2.f = function(vec){
out = F
u.v = unique(vec)
if(length(u.v) < length(u.v)) out = T
return(out)
}
N = 23
sim = 10000
set.seed(10)
result = rep(0,sim)
for(s in 1:sim){
people.birth.v = sample(365,N,replace = T)
result[s] = check.v2.f(people.birth.v)
}
p = sum(result)/sim
p
check.v2.f = function(vec){
out = F
u.v = unique(vec)
if(length(u.v) < length(vec)) out = T
return(out)
}
N = 23
sim = 10000
set.seed(10)
result = rep(0,sim)
for(s in 1:sim){
people.birth.v = sample(365,N,replace = T)
result[s] = check.v2.f(people.birth.v)
}
p = sum(result)/sim
p
check.v3.f = function(vec){
length(unique(vec))<length(vec)
}
least.two.same.birth.prob.v3 = function(n=365,N,sim = 10000){
set.seed(10)
result = rep(0,sim)
for(s in 1:sim){
people.birth.v = sample(n,N,replace = T)
result[s] = check.v3.f(people.birth.v)
}
return(sum(result)/sim)
}
least.two.same.birth.prob.v3(N=23)
?unique
least.two.same.birth.prob.v3(23)
check.v4.f  = function(vec,count=5){
any(table(vec)) == count
}
least.two.same.birth.prob.v2(n=20,N=365,sim=10000,check.f=check.v4.f)
least.two.same.birth.prob.v2 = function(n=365,N,sim = 10000,check.f=check.v2.f){
set.seed(10)
result = rep(0,sim)
for(s in 1:sim){
people.birth.v = sample(n,N,replace = T)
result[s] = check.f(people.birth.v)
}
return(sum(result)/sim)
}
least.two.same.birth.prob.v2(n=20,N=365,sim=10000,check.f=check.v4.f)
least.two.same.birth.prob.v2 = function(n=365,N,sim = 10000,check.f=check.v2.f){
set.seed(10)
result = sapply(1:sim,function(x){check.f(sample(n,N,replace = T))})
return(sum(result)/sim)
}
least.two.same.birth.prob.v4 = function(n=365,N,sim = 10000,check.f=check.v2.f){
set.seed(10)
result = sapply(1:sim,function(x){check.f(sample(n,N,replace = T))})
return(sum(result)/sim)
}
least.two.same.birth.prob.v4(N=23)
check.v5.f  = function(vec,count=2){
any(table(vec)) >= count
}
least.two.same.birth.prob.v4(N=23,check.f = check.v5.f)
least.two.same.birth.prob.v4 = function(n=365,N,sim = 10000,check.f=check.v2.f){
set.seed(10)
result = sapply(1:sim,function(x){check.f(sample(n,N,replace = T))})
return(sum(result)/sim)
}
least.two.same.birth.prob.v4(N=23,check.f = check.v5.f)
reticulate::repl_python()
print("hellow world")
reticulate::repl_python()
import pandas as pd
reticulate::repl_python()
print("i love u")
reticulate::repl_python()
import pandas as pd
python_version
reticulate::repl_python()
for i in range(10):
reticulate::repl_python()
for i in range(10):
print(i)
reticulate::repl_python()
for i in range(10):
print(i)
install.packages("reticulate")
H3 = matrix(rnorm(1000*1000),nrow = 1000)
det(H3)
H3 = matrix(c(1,1/2,1/3,1/2,1/3,1/4,1/3,1/4,1/5),ncol=3)
H3.svd = svd(H3)
det(H3.svd$u)
det(H3.svd$v)
set.seed(10)
H =  matrix(rnorm(12),nrow = 4)
H
svd(H)$d
eigen(H)
H3 = matrix(c(1,1/2,1/3,1/2,1/3,1/4,1/3,1/4,1/5),ncol=3)
H3.chol = chol(H3)
H3 = matrix(c(1,1/2,1/3,1/2,1/3,1/4,1/3,1/4,1/5),ncol=3)
H3.chol = chol(H3)
H3.chol
crossprod(H3.chol,H3.chol)
t(H3.chol) %*% H3.chol
chol2inv(H3)
solve(H3)
chol2inv(H3.chol)
H3.qr = qr(H3)
H3.qr
Q = qr.Q(H3.qr)
Q %*% R
R = qr.R(H3.qr)
Q %*% R
kappa(H3)
outer(x1,x1,"*")
x1 = 1:5
outer(x1,x1,"*")
outer(x1,x1,"-")
?kronecker
M <- matrix(1:6, ncol = 2)
kronecker(4, M)
M
kronecker(diag(1, 3), M)
diag(1, 3)
M
kronecker(M,diag(1, 3))
?lapply #for list object
x <- list(a = 1:10, beta = exp(-3:3), logic = c(TRUE,FALSE,FALSE,TRUE))
lapply(x,mean)
lapply(x,function(y){median(y)-min(y)})
knitr::opts_chunk$set(echo = TRUE)
library(reticulate)
reticulate::use_condaenv("C:/Users/莊明儒/Desktop/應用心理學實習/autism.diagnosis/Scripts/python")
knitr::opts_chunk$set(echo = TRUE)
library(reticulate)
reticulate::use_condaenv("C:/Users/莊明儒/Desktop/應用心理學實習/autism.diagnosis/Scripts/python")
knitr::opts_chunk$set(echo = TRUE)
library(reticulate)
reticulate::use_condaenv("py3")
#C:/Users/莊明儒/Desktop/應用心理學實習/autism.diagnosis/Scripts/python
knitr::opts_chunk$set(echo = TRUE)
library(reticulate)
reticulate::py_config()
getwd()
knitr::opts_chunk$set(echo = TRUE)
setwd("C:/Users/莊明儒/Desktop/應用心理學實習/autism.diagnosis/Scripts/python")
setwd("C:/Users/莊明儒/Desktop/應用心理學實習/autism.diagnosis/Scripts/python")
setwd("C:/Users/莊明儒/Desktop/應用心理學實習/autism.diagnosis/Scripts/python")
setwd("C:/Users/莊明儒/Desktop/應用心理學實習/autism.diagnosis/Scripts/python")
rreticulate::py_config()
reticulate::py_config()
f = function(x){
abs(x-3.5)+(x-2)^2
}
curve(f, from=1,to=5)
golden = function(f,a,b,tol=0.0000001){
ratio = 2/(sqrt(5)+1)
x1 = b-ratio*(b-a)
x2 = a+ratio*(b-a)
f1 = f(x1)
f2 = f(x2)
while(abs(b-a)>tol){
if(f2>f1){
b=x2
x2=x1
f2=f1
x1 = b-ratio*(b-a)
f1=f(x1)
}else{
a=x1
x1=x2
f1=f2
x2 = a+ratio*(b-a)
f2=f(x2)
}
}
return((a+b)/2)
}
golden(f,1,5)
f2 = function(x){
abs(x-3.5)+abs(x-3.2)+abs(x-1)
}
golden(f2,1,5)
f2 = function(x){
abs(x-3.5)+abs(x-2)+abs(x-1)
}
curve(f2, from=1,to=5)
golden(f2,1,5)
f3 = function(x){
abs(x-3.2)+abs(x-3.5)+abs(x-2)+abs(x-1)
}
curve(f3, from=1,to=5)
golden(f3,1,5)
N = seq(10,50,10)
N
N = 10:50
n.sim = 1000
for(n in N){
print(n)
}
setwd("C:/Users/莊明儒/Desktop/Epidemiology")
N = 10:50
related = T
n.sim = 1000
for(n in N){
if(!related){
print(related)
}
else if(related){
print(!related)
}
}
sample(10,0.5)
sample(10,5)
a=1:10
a
a[a!=2]
a[a!=c(3,4,5,6)]
a[! a %in% c(6,7,8)]
round(1.21)
